<!DOCTYPE html>
<html>
    <head>
        <title>Virtual Queue</title>
        <meta charset="utf-8">
        <style>
            body {
                --main-color: rgb(254, 44, 44);
                --opposite-color: white;
                --gray-color: gray;
                --light-gray-color: #eee;
                --dark-gray-color: #444;
                
                font-family: "Roboto", sans-serif;

                margin: 0;
                width: 100%;
            }
            #header {
                background-color: var(--main-color);
                color: var(--opposite-color);

                font-weight: bold;
                font-size: 1.5em;

                text-align: center;
                padding: 1em;
            }
            #main {
                padding: 2em;
            }
            #main > * {
                padding-bottom: 1em;
            }
            div.description {
                color: var(--gray-color);
                text-align: center;
            }
            div.menu {
                display: flex;
                justify-content: center;
                align-items: center;

                margin: 0 3em;
                
                display: flex;
                flex-wrap: wrap;
            }
            div.menu > button {
                margin: 0.5em;
            }
            div.form {
                display: flex;
                justify-content: center;
            }
            form input {
                
                display: block;
                margin-bottom: 1em;
                padding: 0.5em;
            }
            form button {
                width: 100%;
                display: block;
                margin-bottom: 1em;
                padding: 0.5em;
            }
            button {
                background-color: var(--main-color);
                color: var(--opposite-color);

                font-family: inherit;
                font-size: inherit;
                font-weight: bold;

                border: 3px solid var(--main-color);
                border-radius: 0.5em;
                padding: 1em;

                cursor: pointer;
            }
            button.opposite {
                background-color: var(--opposite-color);
                color: var(--main-color);
            }
            #queue {
                display: flex;
                flex-direction: column;
                align-items: center;
                
            }
            .item {
                text-align: left;
                background-color: var(--light-gray-color);
                color: var(--dark-gray-color);

                width: auto;
                margin-bottom: 1em;
                padding: 1em;
                border-radius: 0.5em;
            }
            .item span {
                margin-right: 0.5em;
            }
            .item span.name {
                font-weight: bold;
            }
            .item span.number {
                color: var(--gray-color);
            }
            .item span.action {
                color: var(--main-color);
                font-weight: bold;
                cursor: pointer;
            }
        </style>
    </head>
    <body>
        <div id="header">Virtual Queue</div>
        <div id="main">
            <div class="form">
                <form action="">
                    <input type="text" placeholder="Name">
                    <input type="tel" placeholder="Phone number">
                    <button id="add">Add to Queue</button>
                    <button id="pull">Pull from Queue</button>
                </form>
            </div>
            <div class="description">Next in line:</div>
            <div id="queue">
                <div class="item" data-name="Matthew Coffey" data-number="555-123-4567">
                    <span class="name">Matthew Coffey</span>
                    <span class="number">555-123-4567</span>
                    <span class="action">Delete</span>
                </div>
                <div class="item">
                    <span class="name">Chip Thrasher</span>
                    <span class="number">555-123-4561</span>
                    <span class="action">Delete</span>
                </div>
                <div class="item">
                    <span class="name">Ashley John</span>
                    <span class="number">555-123-4562</span>
                    <span class="action">Delete</span>
                </div>
                <div class="item">
                    <span class="name">Jane Steighner</span>
                    <span class="number">555-123-4563</span>
                    <span class="action">Delete</span>
                </div>
                <div class="item">
                    <span class="name">Matthew Coffey</span>
                    <span class="number">555-123-4567</span>
                    <span class="action">Delete</span>
                </div>
                <div class="item">
                    <span class="name">Chip Thrasher</span>
                    <span class="number">555-123-4561</span>
                    <span class="action">Delete</span>
                </div>
                <div class="item">
                    <span class="name">Ashley John</span>
                    <span class="number">555-123-4562</span>
                    <span class="action">Delete</span>
                </div>
                <div class="item">
                    <span class="name">Jane Steighner</span>
                    <span class="number">555-123-4563</span>
                    <span class="action">Delete</span>
                </div>
                <div class="item">
                    <span class="name">Matthew Coffey</span>
                    <span class="number">555-123-4567</span>
                    <span class="action">Delete</span>
                </div>
                <div class="item">
                    <span class="name">Chip Thrasher</span>
                    <span class="number">555-123-4561</span>
                    <span class="action">Delete</span>
                </div>
                <div class="item">
                    <span class="name">Ashley John</span>
                    <span class="number">555-123-4562</span>
                    <span class="action">Delete</span>
                </div>
                <div class="item">
                    <span class="name">Jane Steighner</span>
                    <span class="number">555-123-4563</span>
                    <span class="action">Delete</span>
                </div>
                <div class="item">
                    <span class="name">Matthew Coffey</span>
                    <span class="number">555-123-4567</span>
                    <span class="action">Delete</span>
                </div>
                <div class="item">
                    <span class="name">Chip Thrasher</span>
                    <span class="number">555-123-4561</span>
                    <span class="action">Delete</span>
                </div>
                <div class="item">
                    <span class="name">Ashley John</span>
                    <span class="number">555-123-4562</span>
                    <span class="action">Delete</span>
                </div>
                <div class="item">
                    <span class="name">Jane Steighner</span>
                    <span class="number">555-123-4563</span>
                    <span class="action">Delete</span>
                </div>
            </div>
        </div>
        <script>
            // Password check

            const queues = [
                { 'name': 'RedHat',
                  'data': [ {
                    'name': 'Matthew Coffey',
                    'number': '555-123-4567'
                  }, {
                    'name': 'Chip Thrasher',
                    'number': '555-123-4561'
                  }, {
                    'name': 'Ashley John',
                    'number': '555-123-4562'
                  } ] }, 
                { 'name': 'NC State Career Development Center',
                  'data': [ {}, {}, {} ] }, 
                { 'name': 'NC State Engineer Your Experience',
                  'data': [ {}, {}, {} ] }, 
                { 'name': 'GE Vernova',
                  'data': [ {}, {}, {} ] }, 
                { 'name': 'AMD',
                  'data': [ {}, {}, {} ] }, 
                { 'name': 'NC State Career Development Center',
                  'data': [ {}, {}, {} ] }, 
                  
            ];

            // Populate #main with the menu screen.
            function showMenu() {
                const header = document.getElementById('header');
                header.innerHTML = 'Virtual Queue';
                
                const main = document.getElementById('main');
                main.innerHTML = '';
                
                let content = '<div class="description">Choose a virtual queue.</div>';
                content += '<div class="menu" id="queues">';

                for(let queue of queues) {
                    console.log('Queue name: ' + queue.name);
                    
                    content += '<button class="queue">' + queue.name + '</button>';
                }

                content += '</div>'; // End first menu
                content += '<div class="menu"><button class="queue opposite">New Queue</button></div>'; // Second menu

                main.innerHTML = content;
            }

            // Populate #main with a specified queue's view.
            function showQueue(queue) {
                if(queue == null || queue.name == '') {
                    throw("Trying to populate null/empty queue");
                }

                const header = document.getElementById('header');
                header.innerHTML = queue.name + '\'s Virtual Queue';

                const main = document.getElementById('main');
                main.innerHTML = '';

                let content = '<div class="menu"><button id="add">Add to Queue</button><button id="pull">Pull from Queue</button></div>';
                
                content += '<div class="description">Next in line:</div>';

                content += '<div id="queue"></div>';

                // Iterate through line to display
                
                main.innerHTML = content;
                
                populateQueue(queue.data);
            }

            // Populate the queue list with data. 
            // Queue = array of {name, number} objects
            function populateQueue(queue) {
                const queueElement = document.getElementById('queue');
                let content = '';

                for(i = 0; i < queue.length; i++) {
                    let thisName = queue[i].name;
                    let thisNumber = queue[i].number;
                    
                    console.log(thisName, thisNumber);

                    content += `<div class="item" data-name="${thisName}" data-number="${thisNumber}">`;
                    content += `<span class="name">${thisName}</span>`;
                    content += `<span class="number">${thisNumber}</span>`;
                    content += '<span class="action">Delete</span></div>';
                }

                queueElement.innerHTML = content;
            }
        
            // Remove an item from the queue.
            function removeFromQueue(item) {
                // If no item, remove the top item of the queue

                // If item, remove the specified item
            }

            // showMenu();
        
            showQueue(queues[0]);
        </script>
    </body>
</html>